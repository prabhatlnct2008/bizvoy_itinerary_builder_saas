import {
  AgencyVibe,
  PersonalizationStatus,
  DeckCard,
  RevealResponse,
  FitStatus,
  FittedItem,
  MissedItem,
  SavedItem,
  PaymentInfo,
} from '../types/personalization';

// Environment flag to toggle mocks vs real API
export const USE_MOCK_DATA = import.meta.env.VITE_USE_MOCK_PERSONALIZATION === 'true' || false;

// Mock Vibes Data (10 categories with emoji/colors)
export const MOCK_VIBES: AgencyVibe[] = [
  {
    id: '1',
    agency_id: 'agency-1',
    vibe_key: 'adventure',
    display_name: 'Adventure',
    emoji: 'ðŸ”ï¸',
    color_hex: '#FF6B35',
    is_global: true,
    is_enabled: true,
    display_order: 1,
  },
  {
    id: '2',
    agency_id: 'agency-1',
    vibe_key: 'relaxation',
    display_name: 'Relaxation',
    emoji: 'ðŸ§˜',
    color_hex: '#7BC74D',
    is_global: true,
    is_enabled: true,
    display_order: 2,
  },
  {
    id: '3',
    agency_id: 'agency-1',
    vibe_key: 'culture',
    display_name: 'Culture',
    emoji: 'ðŸŽ­',
    color_hex: '#9B59B6',
    is_global: true,
    is_enabled: true,
    display_order: 3,
  },
  {
    id: '4',
    agency_id: 'agency-1',
    vibe_key: 'foodie',
    display_name: 'Foodie',
    emoji: 'ðŸœ',
    color_hex: '#F39C12',
    is_global: true,
    is_enabled: true,
    display_order: 4,
  },
  {
    id: '5',
    agency_id: 'agency-1',
    vibe_key: 'nightlife',
    display_name: 'Nightlife',
    emoji: 'ðŸŽ‰',
    color_hex: '#E74C3C',
    is_global: true,
    is_enabled: true,
    display_order: 5,
  },
  {
    id: '6',
    agency_id: 'agency-1',
    vibe_key: 'nature',
    display_name: 'Nature',
    emoji: 'ðŸŒ¿',
    color_hex: '#27AE60',
    is_global: true,
    is_enabled: true,
    display_order: 6,
  },
  {
    id: '7',
    agency_id: 'agency-1',
    vibe_key: 'shopping',
    display_name: 'Shopping',
    emoji: 'ðŸ›ï¸',
    color_hex: '#FF4081',
    is_global: true,
    is_enabled: true,
    display_order: 7,
  },
  {
    id: '8',
    agency_id: 'agency-1',
    vibe_key: 'photography',
    display_name: 'Photography',
    emoji: 'ðŸ“¸',
    color_hex: '#3498DB',
    is_global: true,
    is_enabled: true,
    display_order: 8,
  },
  {
    id: '9',
    agency_id: 'agency-1',
    vibe_key: 'wellness',
    display_name: 'Wellness',
    emoji: 'ðŸ’†',
    color_hex: '#1ABC9C',
    is_global: true,
    is_enabled: true,
    display_order: 9,
  },
  {
    id: '10',
    agency_id: 'agency-1',
    vibe_key: 'romantic',
    display_name: 'Romantic',
    emoji: 'ðŸ’•',
    color_hex: '#FF69B4',
    is_global: true,
    is_enabled: true,
    display_order: 10,
  },
];

// Mock Deck Cards (15-20 sample activities)
export const MOCK_DECK_CARDS: DeckCard[] = [
  {
    id: 'card-1',
    activity_id: 'activity-1',
    name: 'Sunrise Hike at Mount Batur',
    location: 'Bali, Indonesia',
    short_description: 'Watch the sunrise from the summit of an active volcano',
    detailed_description: 'Experience the magic of watching the sunrise from the summit of Mount Batur, an active volcano in Bali. This early morning hike rewards you with breathtaking panoramic views and a sense of accomplishment.',
    highlights: [
      'Witness a spectacular sunrise from 1,717m above sea level',
      'Trek through volcanic landscapes with an experienced guide',
      'Enjoy breakfast cooked using volcanic steam',
      'Take in panoramic views of Lake Batur and Mount Agung',
    ],
    image_url: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
    marketing_badge: 'Most Popular',
    duration_display: '5 hours',
    price_numeric: 45.00,
    currency_code: 'USD',
    review_rating: 4.8,
    review_count: 234,
    category: 'Adventure',
    position: 1,
  },
  {
    id: 'card-2',
    activity_id: 'activity-2',
    name: 'Traditional Balinese Cooking Class',
    location: 'Ubud, Bali',
    short_description: 'Learn to cook authentic Balinese dishes with a local chef',
    detailed_description: 'Immerse yourself in Balinese culinary traditions with a hands-on cooking class. Visit a local market, select fresh ingredients, and learn to prepare traditional dishes in a beautiful outdoor kitchen.',
    highlights: [
      'Visit a traditional market with your chef',
      'Learn to make 5 authentic Balinese dishes',
      'Cook in a traditional outdoor kitchen',
      'Take home recipes and cooking techniques',
    ],
    image_url: 'https://images.unsplash.com/photo-1556910103-1c02745aae4d?w=800',
    marketing_badge: 'Cultural Experience',
    duration_display: '4 hours',
    price_numeric: 55.00,
    currency_code: 'USD',
    review_rating: 4.9,
    review_count: 187,
    category: 'Food & Culture',
    position: 2,
  },
  {
    id: 'card-3',
    activity_id: 'activity-3',
    name: 'Sunset Beach Club & Dinner',
    location: 'Seminyak Beach, Bali',
    short_description: 'Enjoy sunset cocktails and fine dining by the ocean',
    detailed_description: 'Relax at one of Seminyak\'s most exclusive beach clubs. Watch the sunset with signature cocktails, followed by a gourmet dinner with your feet in the sand.',
    highlights: [
      'Prime beachfront location with sunset views',
      'Signature cocktails and mocktails',
      '4-course dinner featuring fresh seafood',
      'Live acoustic music',
    ],
    image_url: 'https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800',
    marketing_badge: 'Luxury',
    duration_display: '3 hours',
    price_numeric: 85.00,
    currency_code: 'USD',
    review_rating: 4.7,
    review_count: 156,
    category: 'Dining & Nightlife',
    position: 3,
  },
  {
    id: 'card-4',
    activity_id: 'activity-4',
    name: 'Sacred Monkey Forest Sanctuary',
    location: 'Ubud, Bali',
    short_description: 'Walk among playful monkeys in ancient temple grounds',
    detailed_description: 'Explore the lush Sacred Monkey Forest, home to over 700 Balinese long-tailed monkeys and three Hindu temples. Walk through the mystical forest on stone pathways and observe the monkeys in their natural habitat.',
    highlights: [
      'See over 700 monkeys in their natural habitat',
      'Explore ancient temples and stone pathways',
      'Learn about Balinese Hindu culture',
      'Beautiful forest setting perfect for photography',
    ],
    image_url: 'https://images.unsplash.com/photo-1540202404-a2f29016b523?w=800',
    marketing_badge: 'Family Friendly',
    duration_display: '2 hours',
    price_numeric: 20.00,
    currency_code: 'USD',
    review_rating: 4.5,
    review_count: 342,
    category: 'Nature & Wildlife',
    position: 4,
  },
  {
    id: 'card-5',
    activity_id: 'activity-5',
    name: 'Yoga & Meditation Retreat',
    location: 'Ubud, Bali',
    short_description: 'Find inner peace with yoga overlooking rice terraces',
    detailed_description: 'Start your day with a rejuvenating yoga and meditation session in a serene open-air pavilion. Practice mindfulness while surrounded by lush tropical gardens and rice terraces.',
    highlights: [
      'Morning yoga session for all levels',
      'Guided meditation practice',
      'Herbal tea and healthy breakfast included',
      'Stunning views of rice terraces',
    ],
    image_url: 'https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=800',
    marketing_badge: 'Wellness',
    duration_display: '2.5 hours',
    price_numeric: 35.00,
    currency_code: 'USD',
    review_rating: 4.9,
    review_count: 98,
    category: 'Wellness & Spa',
    position: 5,
  },
  {
    id: 'card-6',
    activity_id: 'activity-6',
    name: 'Waterfall Rappelling Adventure',
    location: 'North Bali',
    short_description: 'Rappel down a stunning 30-meter waterfall',
    detailed_description: 'Get your adrenaline pumping with an exhilarating waterfall rappelling experience. Descend a beautiful 30-meter waterfall with professional guides and safety equipment.',
    highlights: [
      'Rappel down a 30-meter waterfall',
      'Professional guides and safety equipment',
      'Swimming in natural pools',
      'All skill levels welcome',
    ],
    image_url: 'https://images.unsplash.com/photo-1533130061792-64b345e4a833?w=800',
    marketing_badge: 'Thrill Seeker',
    duration_display: '4 hours',
    price_numeric: 65.00,
    currency_code: 'USD',
    review_rating: 4.8,
    review_count: 112,
    category: 'Adventure',
    position: 6,
  },
  {
    id: 'card-7',
    activity_id: 'activity-7',
    name: 'Traditional Balinese Spa Treatment',
    location: 'Seminyak, Bali',
    short_description: 'Indulge in a luxurious 2-hour spa experience',
    detailed_description: 'Treat yourself to a traditional Balinese spa experience. Enjoy a full body massage, flower bath, and facial in a tranquil spa setting.',
    highlights: [
      '90-minute traditional Balinese massage',
      'Flower bath with essential oils',
      'Refreshing facial treatment',
      'Complimentary herbal tea',
    ],
    image_url: 'https://images.unsplash.com/photo-1540555700478-4be289fbecef?w=800',
    duration_display: '2 hours',
    price_numeric: 60.00,
    currency_code: 'USD',
    review_rating: 4.8,
    review_count: 203,
    category: 'Wellness & Spa',
    position: 7,
  },
  {
    id: 'card-8',
    activity_id: 'activity-8',
    name: 'Scuba Diving at USS Liberty Wreck',
    location: 'Tulamben, Bali',
    short_description: 'Explore a famous WWII shipwreck teeming with marine life',
    detailed_description: 'Dive into history at the USS Liberty shipwreck, one of the best dive sites in Bali. This WWII cargo ship is now a thriving artificial reef home to hundreds of fish species.',
    highlights: [
      'Explore a famous WWII shipwreck',
      'See abundant marine life and coral',
      '2 dives with certified instructors',
      'Equipment and lunch included',
    ],
    image_url: 'https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=800',
    marketing_badge: 'Unique Experience',
    duration_display: '6 hours',
    price_numeric: 95.00,
    currency_code: 'USD',
    review_rating: 4.9,
    review_count: 167,
    category: 'Water Sports',
    position: 8,
  },
  {
    id: 'card-9',
    activity_id: 'activity-9',
    name: 'Rice Terrace Cycling Tour',
    location: 'Jatiluwih, Bali',
    short_description: 'Cycle through UNESCO World Heritage rice terraces',
    detailed_description: 'Pedal through the stunning Jatiluwih rice terraces, a UNESCO World Heritage site. This leisurely cycling tour takes you through traditional villages and breathtaking landscapes.',
    highlights: [
      'Explore UNESCO World Heritage rice terraces',
      'Visit traditional Balinese villages',
      'Easy downhill cycling route',
      'Local lunch included',
    ],
    image_url: 'https://images.unsplash.com/photo-1551244072-5d12893278ab?w=800',
    duration_display: '5 hours',
    price_numeric: 50.00,
    currency_code: 'USD',
    review_rating: 4.7,
    review_count: 145,
    category: 'Nature & Culture',
    position: 9,
  },
  {
    id: 'card-10',
    activity_id: 'activity-10',
    name: 'Uluwatu Temple & Kecak Fire Dance',
    location: 'Uluwatu, Bali',
    short_description: 'Visit a cliff-top temple and watch a mesmerizing fire dance',
    detailed_description: 'Experience the magic of Uluwatu Temple perched on dramatic cliffs, followed by a traditional Kecak fire dance performance at sunset.',
    highlights: [
      'Visit the iconic cliff-top temple',
      'Watch traditional Kecak fire dance',
      'Stunning sunset ocean views',
      'Learn about Balinese Hindu culture',
    ],
    image_url: 'https://images.unsplash.com/photo-1537996194471-e657df975ab4?w=800',
    marketing_badge: 'Cultural Icon',
    duration_display: '4 hours',
    price_numeric: 40.00,
    currency_code: 'USD',
    review_rating: 4.8,
    review_count: 289,
    category: 'Culture & Heritage',
    position: 10,
  },
  {
    id: 'card-11',
    activity_id: 'activity-11',
    name: 'White Water Rafting',
    location: 'Ayung River, Ubud',
    short_description: 'Navigate exciting rapids through jungle scenery',
    detailed_description: 'Paddle through 12km of thrilling Class II-III rapids on the Ayung River. Navigate through lush jungle, past waterfalls, and enjoy the natural beauty of Bali.',
    highlights: [
      '12km of exciting rapids',
      'Experienced rafting guides',
      'Lunch and hotel pickup included',
      'Beautiful jungle scenery',
    ],
    image_url: 'https://images.unsplash.com/photo-1501555088652-021faa106b9b?w=800',
    duration_display: '3 hours',
    price_numeric: 55.00,
    currency_code: 'USD',
    review_rating: 4.6,
    review_count: 198,
    category: 'Adventure',
    position: 11,
  },
  {
    id: 'card-12',
    activity_id: 'activity-12',
    name: 'Artisan Workshop Tour',
    location: 'Celuk & Mas, Bali',
    short_description: 'Visit traditional silver and wood carving workshops',
    detailed_description: 'Discover Bali\'s artisan heritage with visits to traditional silver smithing and wood carving workshops. Watch master craftsmen at work and try your hand at creating your own piece.',
    highlights: [
      'Visit silver smithing workshop in Celuk',
      'See master wood carvers in Mas village',
      'Try creating your own piece',
      'Learn about traditional techniques',
    ],
    image_url: 'https://images.unsplash.com/photo-1452860606245-08befc0ff44b?w=800',
    duration_display: '3 hours',
    price_numeric: 30.00,
    currency_code: 'USD',
    review_rating: 4.5,
    review_count: 87,
    category: 'Arts & Crafts',
    position: 12,
  },
  {
    id: 'card-13',
    activity_id: 'activity-13',
    name: 'Nusa Penida Island Day Trip',
    location: 'Nusa Penida',
    short_description: 'Explore pristine beaches and dramatic cliffs',
    detailed_description: 'Take a day trip to the stunning island of Nusa Penida. Visit Kelingking Beach, Angel\'s Billabong, and Crystal Bay for unforgettable views and swimming.',
    highlights: [
      'Visit iconic Kelingking Beach T-Rex cliff',
      'Swim at Crystal Bay',
      'See Angel\'s Billabong natural infinity pool',
      'Fast boat transfers included',
    ],
    image_url: 'https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800',
    marketing_badge: 'Instagram Famous',
    duration_display: '10 hours',
    price_numeric: 75.00,
    currency_code: 'USD',
    review_rating: 4.7,
    review_count: 234,
    category: 'Island Hopping',
    position: 13,
  },
  {
    id: 'card-14',
    activity_id: 'activity-14',
    name: 'Balinese Dance Performance & Dinner',
    location: 'Ubud Palace',
    short_description: 'Watch traditional Legong dance while dining',
    detailed_description: 'Enjoy an enchanting evening of traditional Balinese dance at the historic Ubud Palace, followed by a royal dinner featuring local delicacies.',
    highlights: [
      'Traditional Legong dance performance',
      'Historic Ubud Palace setting',
      'Royal Balinese dinner',
      'Cultural narration in English',
    ],
    image_url: 'https://images.unsplash.com/photo-1514214246283-d427a95c5d2f?w=800',
    duration_display: '3 hours',
    price_numeric: 45.00,
    currency_code: 'USD',
    review_rating: 4.6,
    review_count: 176,
    category: 'Culture & Dining',
    position: 14,
  },
  {
    id: 'card-15',
    activity_id: 'activity-15',
    name: 'Hot Air Balloon Ride at Sunrise',
    location: 'Central Bali',
    short_description: 'Float over rice terraces and volcanoes at dawn',
    detailed_description: 'Experience the ultimate Bali adventure with a hot air balloon ride at sunrise. Float peacefully above rice terraces, traditional villages, and volcanic landscapes.',
    highlights: [
      'Sunrise hot air balloon flight',
      'Bird\'s eye view of rice terraces',
      'Champagne breakfast included',
      'Professional pilot and crew',
    ],
    image_url: 'https://images.unsplash.com/photo-1470093851219-69951fcbb533?w=800',
    marketing_badge: 'Once in a Lifetime',
    duration_display: '4 hours',
    price_numeric: 195.00,
    currency_code: 'USD',
    review_rating: 5.0,
    review_count: 67,
    category: 'Adventure',
    position: 15,
  },
];

// Mock Payment Info
const MOCK_PAYMENT_INFO: PaymentInfo = {
  company_name: 'Bali Travel Adventures',
  bank_name: 'Bank Mandiri',
  account_number: '1234567890',
  routing_number: 'BMRIIDJA',
  qr_code_url: 'https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=PAYMENT_LINK',
  payment_notes: 'Please include your booking reference in the payment description.',
};

// Mock Reveal Response
export const MOCK_REVEAL_RESPONSE: RevealResponse = {
  session_id: 'mock-session-123',
  itinerary_id: 'mock-itinerary-456',
  fitted_items: [
    {
      activity_id: 'activity-1',
      name: 'Sunrise Hike at Mount Batur',
      image_url: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
      day_number: 2,
      day_date: '2024-03-15',
      time_slot: 'early_morning',
      start_time: '04:00',
      end_time: '09:00',
      duration_display: '5 hours',
      price_numeric: 45.00,
      currency_code: 'USD',
      fit_status: FitStatus.FITTED,
      fit_reason: 'Perfect for early morning on Day 2',
      is_locked: false,
    },
    {
      activity_id: 'activity-2',
      name: 'Traditional Balinese Cooking Class',
      image_url: 'https://images.unsplash.com/photo-1556910103-1c02745aae4d?w=800',
      day_number: 2,
      day_date: '2024-03-15',
      time_slot: 'afternoon',
      start_time: '14:00',
      end_time: '18:00',
      duration_display: '4 hours',
      price_numeric: 55.00,
      currency_code: 'USD',
      fit_status: FitStatus.FITTED,
      fit_reason: 'Scheduled after morning activities',
      is_locked: false,
    },
    {
      activity_id: 'activity-4',
      name: 'Sacred Monkey Forest Sanctuary',
      image_url: 'https://images.unsplash.com/photo-1540202404-a2f29016b523?w=800',
      day_number: 3,
      day_date: '2024-03-16',
      time_slot: 'morning',
      start_time: '09:00',
      end_time: '11:00',
      duration_display: '2 hours',
      price_numeric: 20.00,
      currency_code: 'USD',
      fit_status: FitStatus.FITTED,
      fit_reason: 'Great morning activity for Day 3',
      is_locked: false,
    },
    {
      activity_id: 'activity-10',
      name: 'Uluwatu Temple & Kecak Fire Dance',
      image_url: 'https://images.unsplash.com/photo-1537996194471-e657df975ab4?w=800',
      day_number: 3,
      day_date: '2024-03-16',
      time_slot: 'evening',
      start_time: '16:00',
      end_time: '20:00',
      duration_display: '4 hours',
      price_numeric: 40.00,
      currency_code: 'USD',
      fit_status: FitStatus.FITTED,
      fit_reason: 'Perfect for sunset viewing',
      is_locked: false,
    },
  ] as FittedItem[],
  missed_items: [
    {
      activity_id: 'activity-13',
      name: 'Nusa Penida Island Day Trip',
      image_url: 'https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800',
      duration_display: '10 hours',
      price_numeric: 75.00,
      currency_code: 'USD',
      fit_status: FitStatus.MISSED,
      miss_reason: 'Duration too long for available time slots',
      swap_suggestion: {
        can_swap: true,
        swap_with_activity_id: 'activity-4',
        swap_with_activity_name: 'Sacred Monkey Forest Sanctuary',
        swap_reason: 'Can fit as a full-day replacement',
      },
    },
    {
      activity_id: 'activity-15',
      name: 'Hot Air Balloon Ride at Sunrise',
      image_url: 'https://images.unsplash.com/photo-1470093851219-69951fcbb533?w=800',
      duration_display: '4 hours',
      price_numeric: 195.00,
      currency_code: 'USD',
      fit_status: FitStatus.MISSED,
      miss_reason: 'No early morning slots available',
    },
  ] as MissedItem[],
  saved_items: [
    {
      activity_id: 'activity-7',
      name: 'Traditional Balinese Spa Treatment',
      image_url: 'https://images.unsplash.com/photo-1540555700478-4be289fbecef?w=800',
      duration_display: '2 hours',
      price_numeric: 60.00,
      currency_code: 'USD',
      fit_status: FitStatus.SAVED_FOR_LATER,
    },
  ] as SavedItem[],
  total_added_price: 160.00,
  currency_code: 'USD',
  payment_info: MOCK_PAYMENT_INFO,
};

// Mock Personalization Status
export const getMockPersonalizationStatus = (token: string): PersonalizationStatus => ({
  enabled: true,
  completed: false,
  session_id: null,
  can_resume: false,
  available_vibes: MOCK_VIBES,
  deck_size: 15,
  destination: 'Bali, Indonesia',
});
