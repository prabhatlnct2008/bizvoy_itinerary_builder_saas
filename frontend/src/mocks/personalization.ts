import {
  AgencyVibe,
  PersonalizationStatus,
  DeckCard,
  RevealResponse,
  FittedItem,
  MissedItem,
} from '../types/personalization';

// Environment flag to toggle mocks vs real API (not used anymore, kept for reference)
export const USE_MOCK_DATA = import.meta.env.VITE_USE_MOCK_PERSONALIZATION === 'true' || false;

// Mock Vibes Data (10 categories with emoji/colors)
export const MOCK_VIBES: AgencyVibe[] = [
  {
    id: '1',
    agency_id: 'agency-1',
    vibe_key: 'adventure',
    display_name: 'Adventure',
    emoji: 'ðŸ”ï¸',
    color_hex: '#FF6B35',
    is_global: true,
    is_enabled: true,
    display_order: 1,
  },
  {
    id: '2',
    agency_id: 'agency-1',
    vibe_key: 'relaxation',
    display_name: 'Relaxation',
    emoji: 'ðŸ§˜',
    color_hex: '#7BC74D',
    is_global: true,
    is_enabled: true,
    display_order: 2,
  },
  {
    id: '3',
    agency_id: 'agency-1',
    vibe_key: 'culture',
    display_name: 'Culture',
    emoji: 'ðŸŽ­',
    color_hex: '#9B59B6',
    is_global: true,
    is_enabled: true,
    display_order: 3,
  },
  {
    id: '4',
    agency_id: 'agency-1',
    vibe_key: 'foodie',
    display_name: 'Foodie',
    emoji: 'ðŸœ',
    color_hex: '#F39C12',
    is_global: true,
    is_enabled: true,
    display_order: 4,
  },
  {
    id: '5',
    agency_id: 'agency-1',
    vibe_key: 'nightlife',
    display_name: 'Nightlife',
    emoji: 'ðŸŽ‰',
    color_hex: '#E74C3C',
    is_global: true,
    is_enabled: true,
    display_order: 5,
  },
  {
    id: '6',
    agency_id: 'agency-1',
    vibe_key: 'nature',
    display_name: 'Nature',
    emoji: 'ðŸŒ¿',
    color_hex: '#27AE60',
    is_global: true,
    is_enabled: true,
    display_order: 6,
  },
  {
    id: '7',
    agency_id: 'agency-1',
    vibe_key: 'shopping',
    display_name: 'Shopping',
    emoji: 'ðŸ›ï¸',
    color_hex: '#FF4081',
    is_global: true,
    is_enabled: true,
    display_order: 7,
  },
  {
    id: '8',
    agency_id: 'agency-1',
    vibe_key: 'photography',
    display_name: 'Photography',
    emoji: 'ðŸ“¸',
    color_hex: '#3498DB',
    is_global: true,
    is_enabled: true,
    display_order: 8,
  },
  {
    id: '9',
    agency_id: 'agency-1',
    vibe_key: 'wellness',
    display_name: 'Wellness',
    emoji: 'ðŸ’†',
    color_hex: '#1ABC9C',
    is_global: true,
    is_enabled: true,
    display_order: 9,
  },
  {
    id: '10',
    agency_id: 'agency-1',
    vibe_key: 'romantic',
    display_name: 'Romantic',
    emoji: 'ðŸ’•',
    color_hex: '#FF69B4',
    is_global: true,
    is_enabled: true,
    display_order: 10,
  },
];

// Mock Deck Cards - Updated to match backend DeckCard schema
export const MOCK_DECK_CARDS: DeckCard[] = [
  {
    activity_id: 'activity-1',
    name: 'Sunrise Hike at Mount Batur',
    category_label: 'Adventure',
    location_display: 'Bali, Indonesia',
    short_description: 'Watch the sunrise from the summit of an active volcano',
    client_description: 'Experience the magic of watching the sunrise from the summit of Mount Batur, an active volcano in Bali.',
    price_display: '$45',
    price_numeric: 45.00,
    currency_code: 'USD',
    rating: 4.8,
    review_count: 234,
    marketing_badge: 'Most Popular',
    vibe_tags: ['adventure', 'nature'],
    optimal_time_of_day: 'early_morning',
    hero_image_url: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
    highlights: ['Sunrise views', 'Active volcano', 'Guided trek'],
    gamification_readiness_score: 85,
    card_position: 0,
  },
  {
    activity_id: 'activity-2',
    name: 'Traditional Balinese Cooking Class',
    category_label: 'Food & Culture',
    location_display: 'Ubud, Bali',
    short_description: 'Learn to cook authentic Balinese dishes with a local chef',
    client_description: 'Immerse yourself in Balinese culinary traditions with a hands-on cooking class.',
    price_display: '$55',
    price_numeric: 55.00,
    currency_code: 'USD',
    rating: 4.9,
    review_count: 187,
    marketing_badge: 'Cultural Experience',
    vibe_tags: ['foodie', 'culture'],
    optimal_time_of_day: 'morning',
    hero_image_url: 'https://images.unsplash.com/photo-1556910103-1c02745aae4d?w=800',
    highlights: ['Market visit', '5 dishes', 'Traditional kitchen'],
    gamification_readiness_score: 90,
    card_position: 1,
  },
  {
    activity_id: 'activity-3',
    name: 'Sunset Beach Club & Dinner',
    category_label: 'Dining & Nightlife',
    location_display: 'Seminyak Beach, Bali',
    short_description: 'Enjoy sunset cocktails and fine dining by the ocean',
    client_description: 'Relax at one of Seminyak\'s most exclusive beach clubs.',
    price_display: '$85',
    price_numeric: 85.00,
    currency_code: 'USD',
    rating: 4.7,
    review_count: 156,
    marketing_badge: 'Luxury',
    vibe_tags: ['nightlife', 'romantic'],
    optimal_time_of_day: 'evening',
    hero_image_url: 'https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800',
    highlights: ['Sunset views', 'Cocktails', '4-course dinner'],
    gamification_readiness_score: 80,
    card_position: 2,
  },
];

// Mock Reveal Response - Updated to match backend RevealResponse schema
export const MOCK_REVEAL_RESPONSE: RevealResponse = {
  session_id: 'mock-session-123',
  fitted_items: [
    {
      cart_item_id: 'cart-1',
      activity_id: 'activity-1',
      activity_name: 'Sunrise Hike at Mount Batur',
      day_number: 2,
      day_date: '2024-03-15',
      time_slot: 'early_morning',
      fit_reason: 'Perfect for early morning on Day 2',
      quoted_price: 45.00,
      currency_code: 'USD',
    },
    {
      cart_item_id: 'cart-2',
      activity_id: 'activity-2',
      activity_name: 'Traditional Balinese Cooking Class',
      day_number: 2,
      day_date: '2024-03-15',
      time_slot: 'afternoon',
      fit_reason: 'Scheduled after morning activities',
      quoted_price: 55.00,
      currency_code: 'USD',
    },
  ] as FittedItem[],
  missed_items: [
    {
      cart_item_id: 'cart-3',
      activity_id: 'activity-13',
      activity_name: 'Nusa Penida Island Day Trip',
      miss_reason: 'Duration too long for available time slots',
      swap_suggestion_activity_id: 'activity-4',
      swap_suggestion_name: 'Sacred Monkey Forest Sanctuary',
    },
  ] as MissedItem[],
  total_liked: 5,
  total_fitted: 2,
  total_missed: 1,
  message: 'Personalization complete! 2 activities fitted.',
};

// Mock Personalization Status - Updated to match backend PersonalizationStatusResponse
export const getMockPersonalizationStatus = (token: string): PersonalizationStatus => ({
  enabled: true,
  has_active_session: false,
  session: null,
  available_vibes: MOCK_VIBES,
  policy: 'flexible',
});
